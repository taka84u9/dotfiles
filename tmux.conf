# Prefix
set -g prefix C-q
# don't use default prefix(C-b)
unbind C-b

if-shell "uname | grep -q Darwin" "source-file ~/.tmux.conf.osx"

set -g focus-events on

bind c new-window -c '#{pane_current_path}'

# Ring the bell if any background window rang a bell
set -g bell-action any

# Session Options
# ===============

set -s escape-time 0
# Default termtype. If the rcfile sets $TERM, that overrides this value.
set -g default-terminal screen-256color
# set -g mouse-select-pane on
set -g base-index 1
# setw -g utf8 on
# setw -g automatic-rename on

# Status bar
# ----------
set -g status on
# set -g status-utf8 on
set -g status-left-length 52
set -g status-right-length 451
set -g status-fg white
set -g status-bg colour234
set -g pane-border-fg colour245
set -g pane-active-border-fg colour39
set -g message-fg colour16
set -g message-bg colour221
set -g message-attr bold
set -g status-left '#[fg=colour235,bg=colour252,bold] ‚ùê #S #[fg=colour252,bg=colour238,nobold]#[fg=colour245,bg=colour238,bold] #(whoami) #[fg=colour238,bg=colour234,nobold]'
set -g window-status-format "#[fg=colour235,bg=colour252,bold] #I: #W "
set -g window-status-current-format "#[fg=black,bg=colour39,noreverse,bold] #I: #W #[fg=colour39,bg=colour234,nobold]"


# Message style
# -------------
set -g message-attr bold
set -g message-fg white
set -g message-bg red

# Key bindings
# ============
setw -g mode-keys vi

# Reload settings
unbind r   ; bind r source-file ~/.tmux.conf

# choose window C-q
unbind C-q ; bind C-q choose-window

# vi like yank
unbind -t vi-copy v ; bind -t vi-copy v begin-selection
unbind -t vi-copy y ; bind -t vi-copy y copy-selection

# detach C-d d
unbind C-d ; bind C-d detach

# next and previous window
unbind C-n ; bind C-n next-window
unbind C-p ; bind C-p previous-window

# screen like split
unbind | ; bind | split-window -h
unbind S ; bind S split-window

# walk around panes
unbind Tab  ; bind Tab  select-pane -t :.-
unbind BTab ; bind BTab select-pane -t :.+
unbind h    ; bind h    select-pane -L
unbind l    ; bind l    select-pane -R
unbind k    ; bind k    select-pane -U
unbind j    ; bind j    select-pane -D

# For tmuxinator
# ==============
set-option -g base-index 1
set-window-option -g pane-base-index 1
